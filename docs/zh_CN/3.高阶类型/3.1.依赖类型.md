## 依赖类型

在传统函数式编程中，依赖类型（Dependent Type）指一个类型的存在依赖于一个值（也叫做项 Term）。

EnComping支持依赖类型，但由于类型不可持久化，所以对于类型相关的内容，只允许要么出现在类型参数，要么出现在类型函数中作为参数或返回值，因此，EnComing并不是一门类型一等公民的人。

也许你对于这个突如其来的概念感到很陌生，所以先举一个依赖类型的例子——定长数组：

```ecs
val arr1: [Int*10] = new []{ 0 }
val arr2: [Int*10] = arr1
val arr3: [Int*9] = arr1 // 编译期错误：Array<Int,10> 不与 Array<Int,9> 兼容

val elem1 = arr[9]
val elem2 = arr[10] // 编译期错误：约束关系 len > index 不满足：10 > 10 不成立
```

在 Array 这个类中，其类型参数除了其组件类型 T 以外，还有其长度 len，也就是说，若想得到一个实际的Array类型，不仅需要给出一个组件类型，还需要一个类型为 Int 的值，所以说，Array 是一个依赖类型。

依赖类型的用处有很多，可以使得一些校验信息得以在编译期得以检验，这有助于减少一些因为忘记自己在干什么而产生的bug。

