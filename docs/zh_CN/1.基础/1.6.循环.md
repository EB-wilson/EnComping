## 循环

ECP中使用`loop`和`for`两种语句进行循环控制，其中，`loop`用于逻辑循环，`for`则用于迭代器循环。

在循环中可使用流程控制语句控制循环，包括`continue`使此次循环在当前语句中止并进入下一次循环，`break`则立即结束并跳出循环。

### loop循环

`loop`关键字用于声明基于条件判断和流程控制的循环，一个`loop`循环需要一个循环体和可选的循环条件，它有三种形式：

- **常态循环**  
  常态循环即不提供循环条件的`loop`循环声明，其循环体将永远循环下去，直到使用`break`语句跳出循环。

  ```ecs
  var a = 0
  loop {
    a++
    if(a > 10) break
  }
  ```
  
- **条件循环**
  条件循环提供一个条件表达式，每次执行循环前检查此条件是否为`true`，若为`true`则继续进行循环，否则循环结束。

  ```ecs
  var a = 0
  loop(a < 10) {
    a++
  }
  ```

- **倒置条件循环**
  倒置条件的循环将循环条件的判断放置在语句的末尾，在每次循环完成之后检查条件是否为`true`，若为`true`则继续进行循环，否则循环结束。

  ```ecs
  var a = 0
  do {
    a++
  } loop(a < 10)
  ```
  
### for循环

`for`循环用于对**可迭代的**对象进行数据迭代循环，语法形式为：

```ecs
for(item: Type in iterable){
  println(item)
}
```

通常来说，上述循环形式用于遍历数组，集合等对象的元素，`item: Type`将被作为一个循环体中的局部变量，类型可缺省，由被遍历对象的迭代器类型进行推断。

> **可迭代对象**即包含了`Iterable`组件的对象，将在章节 *迭代器* 中进行详解。

可使用区间来进行数据迭代，以`Int`区间为例：

```ecs
for(i: Int in 0..10){...}   // 0-10
for(i: Int in 0..<10){...}  // 0-9
for(i: Int in 0>..10){...}  // 1-10
for(i: Int in 0>..<10){...} // 1-9
```

区间是一个较为复杂的特性，它接收两个端点信息和步进信息，用于在左右值之间进行有规则的迭代，基础的数字区间即（设`a`和`b`均为`Int`，数字区间的步进值默认为`1`）：

```ecs
a..b      // 闭区间
a>..b     // 左半开区间
a..<b     // 右半开区间
a>..<b    // 开区间

a..2..b   // 步进为2的闭区间
a>..3..b  // 步进为3的左半开区间
a..4..<b  // 步进为4的右半开区间 
a>..5..<b  // 步进为5的开区间
```

> 有关**区间**的详细内容，请参阅章节 *区间*。

### 逆序迭代

`for`循环支持使用`resin`关键字对可迭代对象进行逆序迭代，即与使用`in`的顺序迭代相反的顺序来迭代此对象，语法形式为：

```ecs
for(item: Type resin iterable){
  println(item)
}
```

举例而言：

```ecs
for(i in 0..10) print("$i, ")    // 0 1 2 3 4 5 6 7 8 9 10
for(i resin 0..10) print("$i, ") // 10 9 8 7 6 5 4 3 2 1 0
```
