## 数据类

数据类是一种常量字面量类型，它使用关键字`data`修饰**组件/组合**或者**结构**还有**数组**进行声明：

```ecs
data comp ConstComp{
  ...
}
data combine ConstType{
  ...
}
const val c1: ConstType = ConstType(...)

const val c2: data{...} = {...}

const val c3: data[String: 3] = {...}
```

被标记为数据类的类型体当中，所有成员变量均默认携带`const`修饰符，被严格限定为`val`的**字面常量类型**或者**数据类类型**，枚举也属于字面常量。

当数组被标记为数据类时，数组的元素则也受到类型制约且数组不可变，同时数组长度必须被字面指定。

特别的，**元组（Tuple）** 本身就是数据类。

### 数据组合

数据组合即使用`data`关键字修饰的**组合**类型，与之相应的还有**数据组件**，在这种类型体中可以正常声明成员函数和**纯属性**，但在整个组合体结构中的所有变量都受到严格制约，仅允许声明由`val`修饰的**字面常量类型**或者**数据类类型**。

同时，数据组合与组件包含的组件都必须是**数据组件**：

```ecs
data comp Data(
  val a: Int
  val b: Int
)

data comp Pos(
  val x: Int
  val y: Int
  
  fun getPos(): String = "($x, $y)"
)

data combine DataEnt(val id: Int, x: Int, y: Int, a: Int, b: Int): Data(a, b){
  val pos: Pos = new Pos(x, y)
}

val data = new DataEnt(1, 2, 3, 4, 5)
data.id           // 1
data.pos.getPos() // (2, 3)
```

### 结构数据类

结构数据类即使用`data`关键字修饰的**结构**类型，与**结构**相同，是一系列数据字段的集合，不同的是结构数据类型中的字段不需要使用`val`修饰符即为不可变量，变量类型同前文所示受严格的制约。

```ecs
const val c1: data{x: Int, y: Int, z: Int} = {x = 1, y = 2, z = 3}
const val c2 = data{pos = c1, id = 1}
```

### 数组数据类

数组类型也可以使用`data`关键字进行修饰，当数组类型被标记为`data`时，数组的元素类型遵循常量类型制约，且数组长度必须由常量字面量给定：

```ecs
const val c1: data[String: 3] = {"a", "b", "c"}
const val c2: data[Int: 3] = {1, 2, 3}
```
