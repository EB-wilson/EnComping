## 运算符

运算符是对一个或多个数据进行计算或者判断的工具。ECP中的基础数据运算符大致可以归为五类，分别是

- **算术运算符**
- **比较运算符**
- **逻辑算符**
- **位运算符**
- **空值可选操作符**

> 空值可选运算符在另外的章节中介绍，请参阅*可空类型*

### 算术运算符

算术运算符接收数据输入，并输出一个值作为计算结果，以下是算术运算符的列表：

| 运算符 | 说明   | 举例                    |
|:---:|------|-----------------------|
|  +  | 加法运算 | 2 + 6 = 8             |
|  -  | 减法运算 | 12 - 8 = 4            |
|  *  | 乘法运算 | 6*4f = 24f            |
|  /  | 除法运算 | 12f/6f = 0.5f         |
|  %  | 求余运算 | 15%4 = 3              |
| ++  | 自增运算 | a++                   |
| --  | 自减运算 | a--                   |
| **  | 幂运算  | 2**4 = 16             |
|  @  | 哈希运算 | @obj = obj.hashCode() |

> 其中，自增与自减符号处于被操作数的左侧和右侧效果是不一样的，具体来说，当`++`位于变量左侧时，表示先对此变量进行自增后，再获取其值；而当`++`位于变量右侧时，表示先获取此变量的值，再对其进行自增。

### 比较运算符

比较运算符用于比较两个数据，并输出一个布尔值作为比较结果，以下是比较运算符的列表：

| 运算符 | 说明   | 举例                 |
|:---:|------|--------------------|
| ==  | 相等   | 2 == 3 = false     |
| === | 引用相等 | obj === obj = true |
| !=  | 不相等  | 2 != 3 = true      |
| \>  | 大于   | 2 > 3 = false      |
|  <  | 小于   | 2 < 3 = true       |
| \>= | 大于等于 | 2f >= 2f = true    |
|  <  | 小于等于 | 4.0 <= 2.0 = false |

> `==`运算符相当于调用左侧被操作数的`equals(obj)`方法，并将右侧操作数传入为参数，而`===`运算符表示引用对象的全等，必须是绝对相同的两个对象/数据才为true。

### 逻辑运算符

逻辑运算符接收数据输入，并输出一个布尔值作为计算结果，以下是逻辑运算符的列表：

| 运算符  | 说明    | 举例                      |
|:----:|-------|-------------------------|
|  &&  | 逻辑与运算 | 2 > 3 && 3 < 4 = false  |
| \|\| | 逻辑或运算 | 2 > 3 \|\| 3 < 4 = true |
|  !   | 逻辑非运算 | !(2 > 3) = true         |

### 位运算符

位运算符接收数据输入，按数据的二进制位进行计算，并输出一个值作为计算结果，以下是位运算符的列表：

|  运算符   | 说明      | 举例           |
|:------:|---------|--------------|
|   &    | 按位与运算   | 2 & 3 = 2    |
|   \|   | 按位或运算   | 2 \| 3 = 3   |
|   ^    | 按位异或运算  | 2 ^ 3 = 1    |
|   ~    | 按位取反运算  | ~2 = -3      |
|   <<   | 左移运算    | 2 << 1 = 4   |
|  \>\>  | 右移运算    | -2 >> 1 = -1 |
| \>\>\> | 无符号右移运算 | -2 >>> 1 = 1 |

### 复合赋值运算符

所有的算术运算符和位运算符均可与赋值符号`=`复合表示一个**复合赋值运算符**。赋值运算符的作用即将左侧变量作为左操作数，在与右侧操作数进行给定符号的计算后，将结果赋值回到左侧的运算符，例如：

```ecs
var a: Int = 180
a += 10
println(a)       // 190
a *= 10
println(a)       // 1900
a %= 10
println(a)       // 0
```

### 运算符优先级

括弧`(expr)`也可认为是一个运算符，它的优先级最高，被用于改变运算次序，以下是从高到低的运算符优先级列表：

| 优先级 | 运算符              |
|:---:|------------------|
|  0  | (expr)           |
|  1  | ! - ~ @          |
|  2  | ** * / %         |
|  3  | + - ++ --        |
|  4  | \<\< \>\> \>\>\> |
|  5  | \< \<= \> \>=    |
|  6  | == !=            |
|  7  | & ^ \|           |
| 10  | && \|\|          |
| 12  | \<operator>=     |

`<operator>=`即复合赋值运算符，其始终最后被执行
