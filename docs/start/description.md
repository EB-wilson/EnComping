## EnComping 语言介绍

EnCompin是一种完全组合式编程语言（Combination Program，CP），其旨在提供一种基于组合的元编程模式，使开发者可以直接以`组件-对象`的模式进行编程。

该语言设计之初即为了将`ECS`架构中的宝贵思想引入到编程语言当中，因此，EnComping是面向对象的编程语言，但它并非扩展式（Extend）的面向对象，而是组合式面向对象，与传统的面向对象语言不同，EnComping当中没有`继承`等概念，组件的`包含`被用于代替其需要实现的功能。

EnComping被设计为可在jvm上工作的编程语言，并且后续会有计划的实现它在native平台，.net和到js等平台的编译运行支持。

## 基本语法

EnComping的程序文件后缀名称为`.ecs`或者`.ecp`，二者有略微的差异，在之后会有阐述。EnComping可直接简称为ECP，下文亦采用ECP代指EnComping

以下是使用ECP编写的一段简单的HelloWorld程序：

```ecs
@EntryPoint
fun main(args: Array<String>){
  println("Hello World!")
}
```

其中，`@EntryPoint`是用于标记程序的入口点的一个简单注解，`println`函数的作用即向系统标准输出流打印一段文本并换行，将上文保存到HelloWorld.ecs，并在此目录下打开终端，执行如下命令：

```sh
ecp HelloWorld.ecs
```

即可看到在终端打印了一段文本：`Hello World!`

## 组合类型系统与变量

在ECP中，所有的概念和功能都被抽象为了`组件`（Component）和`对象`(Object)，组件共有的基础类型即被称为`组件原型`，而组件则被用于为对象提供所有功能，同时组件原型即为访问对象功能的协议，即表观类型。

数字，字符串等基础数据类型也被描述为了“组件原型”，这包括了如下内置的基本数据类型：

| 类型 | 释义 | 示例 |
|:------:|--------|--------|
| Byte | 8位整数 | 123 |
| Short | 16位整数 | 12345 |
| Int | 32位整数 | 123456789 |
| Long | 64位整数 | 123456789L |
| Float | 32位浮点数 | 3.1415926F |
| Double | 64位浮点数 | 2.7182818 |
| Boolean | 布尔值 | true |
| Char | 单字符 | 'C' |
| String | 字符串 | "HelloWorld" |

## 关于.ecs与.ecp的区别

ecs，是EnComping Script的缩写，而ecp为EnComping Program的缩写。

在.ecs文件中，可以直接在最顶层编写任意声明，包括变量，函数等，它们不需要被包括在任何其他程序块当中，并且可以直接被导入并访问。

而.ecp文件当中顶层必须是有且只有一个程序块，它可以是组件原型声明，可以是组合类型声明，以及一些其他顶级程序块的声明，所有的程序内容都必须被包括在这个顶级程序块中，并且此程序块的名称必须和文件名相同。如果您需要使用.ecp文件中的函数作为入口点，您可以编写如下程序：

```ecp
@EntryPoint
comp HelloWorld{
  init{
    println("Hello World!")
  }
}
```

如程序所述，如果您将`@EntryPoint`注解用于组件原型或者组合类型上，那么程序启动时即会实例化该入口，并将参数传递给其初始化函数，此处的初始化函数不携带参数，即不接收命令行参数。

将该程序保存为HelloWorld.ecp并运行，将得到和上文相同的打印结果。
